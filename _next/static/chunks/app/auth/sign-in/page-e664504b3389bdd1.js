(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{3149:function(e,r,s){Promise.resolve().then(s.bind(s,5218)),Promise.resolve().then(s.bind(s,3555)),Promise.resolve().then(s.t.bind(s,231,23)),Promise.resolve().then(s.bind(s,5821)),Promise.resolve().then(s.bind(s,3138)),Promise.resolve().then(s.bind(s,508))},5821:function(e,r,s){"use strict";s.d(r,{GuestGuard:function(){return c}});var n=s(7437),i=s(2265),o=s(6463),t=s(8165),a=s(5240),l=s(4382),d=s(8692);function c(e){let{children:r}=e,s=(0,o.useRouter)(),{user:c,error:u,isLoading:h}=(0,d.a)(),[m,f]=i.useState(!0),x=async()=>{if(!h){if(u){f(!1),s.push(a.H.errors.notFound);return}if(c){l.k.debug("[GuestGuard]: User is logged in, redirecting to dashboard"),s.replace(a.H.dashboard.overview);return}f(!1)}};return(i.useEffect(()=>{x().catch(()=>{})},[c,u,h]),m)?null:u?(0,n.jsx)(t.Z,{color:"error",children:u}):(0,n.jsx)(i.Fragment,{children:r})}},3138:function(e,r,s){"use strict";s.d(r,{SignInForm:function(){return y}});var n=s(7437),i=s(2265),o=s(7138),t=s(6463),a=s(1014),l=s(8165),d=s(5519),c=s(8644),u=s(437),h=s(6065),m=s(1665),f=s(866),x=s(8929),j=s(3719),p=s(5830),b=s(9959),g=s(9343),v=s(9772),w=s(5240),Z=s(3814),S=s(8692);let P=v.z.object({email:v.z.string().min(1,{message:"Email is required"}).email(),password:v.z.string().min(1,{message:"Password is required"})}),k={email:"",password:""};function y(){let e=(0,t.useRouter)(),{checkSession:r}=(0,S.a)(),[s,v]=i.useState(),[y,z]=i.useState(!1),{control:C,handleSubmit:E,setError:_,formState:{errors:F}}=(0,g.cI)({defaultValues:k,resolver:(0,a.F)(P)}),G=i.useCallback(async s=>{z(!0);let{error:n}=await Z.U.signInWithPassword(s);if(n){_("root",{type:"server",message:n}),z(!1);return}await (null==r?void 0:r()),e.refresh()},[r,e,_]);return(0,n.jsxs)(x.Z,{spacing:4,children:[(0,n.jsxs)(x.Z,{spacing:1,children:[(0,n.jsx)(j.Z,{variant:"h4",children:"Sign in"}),(0,n.jsxs)(j.Z,{color:"text.secondary",variant:"body2",children:["Don't have an account?"," ",(0,n.jsx)(m.Z,{component:o.default,href:w.H.auth.signUp,underline:"hover",variant:"subtitle1",color:"#212636",children:"Sign up"})]})]}),(0,n.jsx)("form",{onSubmit:E(G),children:(0,n.jsxs)(x.Z,{spacing:2,children:[(0,n.jsx)(g.Qr,{control:C,name:"email",render:e=>{let{field:r}=e;return(0,n.jsxs)(c.Z,{error:!!F.email,children:[(0,n.jsx)(h.Z,{children:"Email address"}),(0,n.jsx)(f.Z,{...r,label:"Email address",type:"email"}),F.email?(0,n.jsx)(u.Z,{children:F.email.message}):null]})}}),(0,n.jsx)(g.Qr,{control:C,name:"password",render:e=>{let{field:r}=e;return(0,n.jsxs)(c.Z,{error:!!F.password,children:[(0,n.jsx)(h.Z,{children:"Password"}),(0,n.jsx)(f.Z,{...r,endAdornment:s?(0,n.jsx)(p.b,{cursor:"pointer",fontSize:"var(--icon-fontSize-md)",onClick:()=>{v(!1)}}):(0,n.jsx)(b.N,{cursor:"pointer",fontSize:"var(--icon-fontSize-md)",onClick:()=>{v(!0)}}),label:"Password",type:s?"text":"password"}),F.password?(0,n.jsx)(u.Z,{children:F.password.message}):null]})}}),(0,n.jsx)("div",{children:(0,n.jsx)(m.Z,{component:o.default,href:w.H.auth.resetPassword,variant:"subtitle1",color:"#212636",children:"Forgot password?"})}),F.root?(0,n.jsx)(l.Z,{color:"error",children:F.root.message}):null,(0,n.jsx)(d.Z,{disabled:y,type:"submit",variant:"contained",sx:{backgroundColor:"#1b3a69","&:hover":{backgroundColor:"#0f1e3c"}},children:"Sign in"})]})})]})}}},function(e){e.O(0,[342,919,472,125,87,781,907,296,165,704,947,131,971,23,744],function(){return e(e.s=3149)}),_N_E=e.O()}]);