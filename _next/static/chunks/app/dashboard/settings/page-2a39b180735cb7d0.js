(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{9456:function(t,e,r){Promise.resolve().then(r.bind(r,3555)),Promise.resolve().then(r.bind(r,2591)),Promise.resolve().then(r.bind(r,4060)),Promise.resolve().then(r.bind(r,6231)),Promise.resolve().then(r.bind(r,2240))},4060:function(t,e,r){"use strict";r.d(e,{JobMonitoringControl:function(){return g}});var a=r(7437),o=r(5519),n=r(270),c=r(2879),s=r(4696),i=r(7573),l=r(7318),u=r(8929),d=r(3814),h=r(2265);function g(){let[t,e]=(0,h.useState)(!1),[r,g]=(0,h.useState)(!1),[m,x]=(0,h.useState)("Мониторинг начат");(0,h.useEffect)(()=>{p()},[]);let p=async()=>{e(!0===await d.U.hhStatus())},f=async()=>{g(!0);try{if(t)await d.U.hhStop();else{let t=await d.U.hhStart();x("Мониторинг начат с резюме: "+t.error)}p()}catch(t){console.error("Ошибка при переключении мониторинга:",t)}finally{g(!1)}};return(0,a.jsxs)(n.Z,{children:[(0,a.jsx)(i.Z,{title:"Управление мониторингом вакансий"}),(0,a.jsx)(l.Z,{}),(0,a.jsx)(s.Z,{children:(0,a.jsx)(u.Z,{spacing:3,sx:{maxWidth:"sm"},children:(0,a.jsx)("p",{children:t?m:"Мониторинг остановлен"})})}),(0,a.jsx)(l.Z,{}),(0,a.jsx)(c.Z,{sx:{justifyContent:"flex-end"},children:(0,a.jsx)(o.Z,{variant:"contained",sx:{backgroundColor:t?"#d32f2f":"#1b3a69","&:hover":{backgroundColor:t?"#9a0007":"#0f1e3c"}},onClick:f,disabled:r,children:r?"Загрузка...":t?"Остановить мониторинг":"Начать мониторинг"})})]})}},6231:function(t,e,r){"use strict";r.d(e,{Notifications:function(){return v}});var a=r(7437),o=r(2265),n=r(5519),c=r(270),s=r(2879),i=r(4696),l=r(7573),u=r(5786),d=r(7318),h=r(8038),g=r(49),m=r(8929),x=r(3719),p=r(2834),f=r(3814);function v(){let[t,e]=o.useState([]),[r,v]=(0,o.useState)(null),[y,j]=(0,o.useState)(null),Z=[{id:"8",label:"Инвест-клуб"},{id:"3",label:"Маркетплейсы"},{id:"7",label:"Спорт-клуб"},{id:"1",label:"Читай-клуб"},{id:"5",label:"Благотворительность"},{id:"2",label:"Английский разговорный клуб"},{id:"6",label:"Производство"},{id:"4",label:"Родительский совет"}];(0,o.useEffect)(()=>{(async()=>{let{data:t,error:r}=await f.U.getUser();t&&(v(t.id),t.tags&&Array.isArray(t.tags)&&e(t.tags.map(t=>String(t.id))))})()},[]);let w=t=>{e(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},b=async e=>{e.preventDefault();let r={tagId:t.map(t=>parseInt(t,10))},{data:a,error:o}=await f.U.saveTags(r);o?(console.error("Ошибка при сохранении тегов:",o),j("Ошибка при сохранении тегов.")):(console.log("Теги успешно сохранены:",a),j("Теги успешно сохранены!"))};return(0,a.jsx)("form",{onSubmit:b,children:(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(l.Z,{title:"Выбор мероприятий"}),(0,a.jsx)(d.Z,{}),(0,a.jsxs)(i.Z,{children:[(0,a.jsxs)(p.Z,{container:!0,spacing:6,wrap:"wrap",children:[(0,a.jsx)(p.Z,{md:4,sm:6,xs:12,children:(0,a.jsxs)(m.Z,{spacing:1,children:[(0,a.jsx)(x.Z,{variant:"h6",children:"Направления развития"}),(0,a.jsx)(g.Z,{children:Z.slice(0,4).map(e=>(0,a.jsx)(h.Z,{control:(0,a.jsx)(u.Z,{checked:t.includes(e.id),onChange:()=>w(e.id)}),label:e.label},e.id))})]})}),(0,a.jsx)(p.Z,{md:4,sm:6,xs:12,children:(0,a.jsx)(m.Z,{spacing:1,sx:{marginTop:{xs:"0",md:"2.5rem"}},children:(0,a.jsx)(g.Z,{children:Z.slice(4).map(e=>(0,a.jsx)(h.Z,{control:(0,a.jsx)(u.Z,{checked:t.includes(e.id),onChange:()=>w(e.id)}),label:e.label},e.id))})})})]}),y&&(0,a.jsx)(x.Z,{variant:"body1",sx:{marginTop:2,color:"green"},children:y})]}),(0,a.jsx)(d.Z,{}),(0,a.jsx)(s.Z,{sx:{justifyContent:"flex-end"},children:(0,a.jsx)(n.Z,{variant:"contained",type:"submit",sx:{backgroundColor:"#1b3a69","&:hover":{backgroundColor:"#0f1e3c"}},children:"Сохранить"})})]})})}},2240:function(t,e,r){"use strict";r.d(e,{UpdatePasswordForm:function(){return m}});var a=r(7437);r(2265);var o=r(5519),n=r(270),c=r(2879),s=r(4696),i=r(7573),l=r(7318),u=r(8644),d=r(6065),h=r(866),g=r(8929);function m(){return(0,a.jsx)("form",{onSubmit:t=>{t.preventDefault()},children:(0,a.jsxs)(n.Z,{children:[(0,a.jsx)(i.Z,{title:"Смена пароля"}),(0,a.jsx)(l.Z,{}),(0,a.jsx)(s.Z,{children:(0,a.jsxs)(g.Z,{spacing:3,sx:{maxWidth:"sm"},children:[(0,a.jsxs)(u.Z,{fullWidth:!0,children:[(0,a.jsx)(d.Z,{children:"Пароль"}),(0,a.jsx)(h.Z,{label:"Пароль",name:"password",type:"password"})]}),(0,a.jsxs)(u.Z,{fullWidth:!0,children:[(0,a.jsx)(d.Z,{children:"Подтвердите пароль"}),(0,a.jsx)(h.Z,{label:"Подтвердите пароль",name:"confirmPassword",type:"password"})]})]})}),(0,a.jsx)(l.Z,{}),(0,a.jsx)(c.Z,{sx:{justifyContent:"flex-end"},children:(0,a.jsx)(o.Z,{variant:"contained",sx:{backgroundColor:"#1b3a69","&:hover":{backgroundColor:"#0f1e3c"}},children:"Сменить"})})]})})}},3814:function(t,e,r){"use strict";r.d(e,{U:function(){return s}});var a=r(8472);let o=a.Z.create({baseURL:"http://37.194.168.90:2100"}),n=a.Z.create({baseURL:"http://37.194.168.90:2000"});o.interceptors.request.use(t=>(console.log("Starting Request: ",t),t));class c{async signUp(t){let{email:e,password:r,firstName:n,lastName:c}=t;try{return await o.post("auth/signup",{email:e,password:r,firstName:n,lastName:c,headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}}),{}}catch(t){if(a.Z.isAxiosError(t)){var s;return{error:(null===(s=t.response)||void 0===s?void 0:s.data)||"An error occurred"}}return{error:"An unknown error occurred"}}}async signInWithOAuth(t){return{error:"Social authentication not implemented"}}async signInWithPassword(t){let{email:e,password:r}=t;try{let t=await o.post("auth/signin",{email:e,password:r,headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}}),{token:a}=t.data,{token_name:n}=t.data;return console.log(n,a),a&&n&&localStorage.setItem(n,a),{}}catch(t){if(a.Z.isAxiosError(t)){var n;return{error:(null===(n=t.response)||void 0===n?void 0:n.data)||"An error occurred"}}return{error:"An unknown error occurred"}}}async resetPassword(t){return{error:"Password reset not implemented"}}async updatePassword(t){return{error:"Update reset not implemented"}}async getUser(){try{let t=localStorage.getItem("custom-auth-token");console.log("token = "+t);let e=await o.get("account/getinfo",{headers:{Authorization:"".concat(t)}});if(!e.data)return{data:null};return{data:e.data}}catch(t){return{data:null}}}async createEvent(t){try{return{data:(await o.post("events/create",t,{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}})).data}}catch(t){return console.error("Error creating event:",t),{error:"Failed to create event"}}}async saveTags(t){console.log(t);try{return{data:(await o.post("account/tags",t,{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}})).data}}catch(t){return console.error("Error creating event:",t),{error:"Failed to create event"}}}async getEventsCount(){try{let t=localStorage.getItem("custom-auth-token");console.log("token = "+t);let e=await o.get("events/count",{headers:{Authorization:"".concat(t)}});if(!e.data)return{data:null};return{data:e.data}}catch(t){return{data:null}}}async getMyEvent(){try{return console.log(localStorage.getItem("custom-auth-token")),{data:(await o.post("events/getall",null,{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}})).data}}catch(t){return console.error("Error fetching event:",t),{error:"Failed to fetch event"}}}async deleteEvent(t){try{return{data:(await o.post("events/delete",t,{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}})).data}}catch(t){return console.error("Error deleting events:",t),{error:"Failed to delete events"}}}async uploadAvatar(t){let e=new FormData;e.append("file",t),console.log("formData");try{let[t,r]=(await o.post("account/savefile",e,{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}})).data;return{url:r}}catch(t){return{error:"Error uploading avatar"}}}async getCalendar(){try{return{data:(await o.get("calendar/get",{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}})).data}}catch(t){return{error:"Error signing out"}}}async signOut(){try{return await o.get("account/logout",{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}}),document.cookie="custom-auth-token=; path=/; max-age=0;",{}}catch(t){return{error:"Error signing out"}}}async callback(){try{console.log("callback");let t=new URLSearchParams(window.location.search).get("code");return await n.get("/callback",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("custom-auth-token"))},params:{code:t}}),{}}catch(t){return console.error("Error occurred:",t),{error:"Error during the start of monitoring"}}}async hhStatus(){try{return(await n.get("monitoring/status",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("custom-auth-token"))}})).data}catch(t){return console.error("Error occurred:",t),!1}}async hhStart(){try{let t=await n.get("monitoring/start",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("custom-auth-token"))}});if(202===t.status){let e=t.data;e&&(window.location.href=e)}return{error:t.data||"No data from server"}}catch(t){return console.error("Error occurred:",t),{error:"Error during the start of monitoring"}}}async hhStop(){try{return await n.get("monitoring/stop",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("custom-auth-token"))}}),document.cookie="custom-auth-token=; path=/; max-age=0;",{}}catch(t){return{error:"Error signing out"}}}async signUpToken(t){try{let e=await o.post("auth/confirm",{check_token:t},{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}}),{token:r}=e.data,{token_name:a}=e.data;return console.log(a,r),r&&a&&localStorage.setItem(a,r),{}}catch(t){if(a.Z.isAxiosError(t)){var e;return{error:(null===(e=t.response)||void 0===e?void 0:e.data)||"An error occurred"}}return{error:"An unknown error occurred"}}}async subscribe(t){try{console.log("eventId = "+t);let e=await o.post("events/subscribe",{eventId:t},{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}}),{token:r}=e.data,{token_name:a}=e.data;return console.log(a,r),r&&a&&localStorage.setItem(a,r),{}}catch(t){if(a.Z.isAxiosError(t)){var e;return{error:(null===(e=t.response)||void 0===e?void 0:e.data)||"An error occurred"}}return{error:"An unknown error occurred"}}}}let s=new c}},function(t){t.O(0,[342,919,472,125,296,786,545,351,971,23,744],function(){return t(t.s=9456)}),_N_E=t.O()}]);