(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[657],{9216:function(t,e,r){Promise.resolve().then(r.bind(r,5218)),Promise.resolve().then(r.bind(r,3555)),Promise.resolve().then(r.t.bind(r,231,23)),Promise.resolve().then(r.bind(r,508)),Promise.resolve().then(r.bind(r,7354))},8929:function(t,e,r){"use strict";r.d(e,{Z:function(){return Z}});var o=r(3950),a=r(2988),n=r(2265),c=r(4839),s=r(6529),u=r(7542),i=r(6259),l=r(6154),d=r(4999),h=r(261),g=r(3143),m=r(6575),f=r(3351),v=r(7437);let p=["component","direction","spacing","divider","children","className","useFlexGap"],k=(0,g.Z)(),y=(0,l.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function w(t){return(0,d.Z)({props:t,name:"MuiStack",defaultTheme:k})}let b=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],S=({ownerState:t,theme:e})=>{let r=(0,a.Z)({display:"flex",flexDirection:"column"},(0,m.k9)({theme:e},(0,m.P$)({values:t.direction,breakpoints:e.breakpoints.values}),t=>({flexDirection:t})));if(t.spacing){let o=(0,f.hB)(e),a=Object.keys(e.breakpoints.values).reduce((e,r)=>(("object"==typeof t.spacing&&null!=t.spacing[r]||"object"==typeof t.direction&&null!=t.direction[r])&&(e[r]=!0),e),{}),n=(0,m.P$)({values:t.direction,base:a}),c=(0,m.P$)({values:t.spacing,base:a});"object"==typeof n&&Object.keys(n).forEach((t,e,r)=>{if(!n[t]){let o=e>0?n[r[e-1]]:"column";n[t]=o}}),r=(0,s.Z)(r,(0,m.k9)({theme:e},c,(e,r)=>t.useFlexGap?{gap:(0,f.NA)(o,e)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${b(r?n[r]:t.direction)}`]:(0,f.NA)(o,e)}}))}return(0,m.dt)(e.breakpoints,r)};var A=r(8024),E=r(9281),Z=function(t={}){let{createStyledComponent:e=y,useThemeProps:r=w,componentName:s="MuiStack"}=t,l=()=>(0,i.Z)({root:["root"]},t=>(0,u.ZP)(s,t),{}),d=e(S);return n.forwardRef(function(t,e){let s=r(t),u=(0,h.Z)(s),{component:i="div",direction:g="column",spacing:m=0,divider:f,children:k,className:y,useFlexGap:w=!1}=u,b=(0,o.Z)(u,p),S=l();return(0,v.jsx)(d,(0,a.Z)({as:i,ownerState:{direction:g,spacing:m,useFlexGap:w},ref:e,className:(0,c.Z)(S.root,y)},b,{children:f?function(t,e){let r=n.Children.toArray(t).filter(Boolean);return r.reduce((t,o,a)=>(t.push(o),a<r.length-1&&t.push(n.cloneElement(e,{key:`separator-${a}`})),t),[])}(k,f):k}))})}({createStyledComponent:(0,A.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>(0,E.Z)({props:t,name:"MuiStack"})})},3555:function(t,e,r){"use strict";r.d(e,{default:function(){return o.Z}});var o=r(8929)},4535:function(t,e,r){"use strict";r.d(e,{Z:function(){return a}});var o=r(7542);function a(t,e,r="Mui"){let a={};return e.forEach(e=>{a[e]=(0,o.ZP)(t,e,r)}),a}},8017:function(t,e,r){"use strict";var o=r(2265);let a="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;e.Z=a},508:function(t,e,r){"use strict";r.d(e,{DynamicLogo:function(){return l},T:function(){return i}});var o=r(7437),a=r(2265),n=r(7999),c=r(8598),s=r(8017);function u(t){let{children:e,defer:r=!1,fallback:n=null}=t,[c,u]=a.useState(!1);return(0,s.Z)(()=>{r||u(!0)},[r]),a.useEffect(()=>{r&&u(!0)},[r]),(0,o.jsx)(a.Fragment,{children:c?e:n})}function i(t){let e,{color:r="dark",emblem:a,height:c=60,width:s=60}=t;return e=a?"light"===r?"/assets/logo-emblem.svg":"/assets/logo-emblem--dark.svg":"light"===r?"/assets/logo.svg":"/assets/logo--dark.svg",(0,o.jsx)(n.Z,{alt:"logo",component:"img",height:c,src:e,width:s})}function l(t){let{colorDark:e="light",colorLight:r="dark",height:a=60,width:s=60,...l}=t,{colorScheme:d}=(0,c.tv)();return(0,o.jsx)(u,{fallback:(0,o.jsx)(n.Z,{sx:{height:"".concat(a,"px"),width:"".concat(s,"px")}}),children:(0,o.jsx)(i,{color:"dark"===d?e:r,height:a,width:s,...l})})}},7354:function(t,e,r){"use strict";r.d(e,{HHcallback:function(){return u}});var o=r(7437),a=r(2265),n=r(3814),c=r(6463),s=r(5240);function u(){let t=(0,c.useRouter)();return(0,a.useEffect)(()=>{(async()=>{try{t.push(s.H.dashboard.settings),await n.U.callback()}catch(t){console.error("Error during hhStart:",t)}})()},[]),(0,o.jsx)("h1",{children:"Confirm your action"})}},3814:function(t,e,r){"use strict";r.d(e,{U:function(){return s}});var o=r(8472);let a=o.Z.create({baseURL:"http://37.194.168.90:2100"}),n=o.Z.create({baseURL:"http://37.194.168.90:2000"});a.interceptors.request.use(t=>(console.log("Starting Request: ",t),t));class c{async signUp(t){let{email:e,password:r,firstName:n,lastName:c}=t;try{return await a.post("auth/signup",{email:e,password:r,firstName:n,lastName:c,headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}}),{}}catch(t){if(o.Z.isAxiosError(t)){var s;return{error:(null===(s=t.response)||void 0===s?void 0:s.data)||"An error occurred"}}return{error:"An unknown error occurred"}}}async signInWithOAuth(t){return{error:"Social authentication not implemented"}}async signInWithPassword(t){let{email:e,password:r}=t;try{let t=await a.post("auth/signin",{email:e,password:r,headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}}),{token:o}=t.data,{token_name:n}=t.data;return console.log(n,o),o&&n&&localStorage.setItem(n,o),{}}catch(t){if(o.Z.isAxiosError(t)){var n;return{error:(null===(n=t.response)||void 0===n?void 0:n.data)||"An error occurred"}}return{error:"An unknown error occurred"}}}async resetPassword(t){return{error:"Password reset not implemented"}}async updatePassword(t){return{error:"Update reset not implemented"}}async getUser(){try{let t=localStorage.getItem("custom-auth-token");console.log("token = "+t);let e=await a.get("account/getinfo",{headers:{Authorization:"".concat(t)}});if(!e.data)return{data:null};return{data:e.data}}catch(t){return{data:null}}}async createEvent(t){try{return{data:(await a.post("events/create",t,{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}})).data}}catch(t){return console.error("Error creating event:",t),{error:"Failed to create event"}}}async saveTags(t){console.log(t);try{return{data:(await a.post("account/tags",t,{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}})).data}}catch(t){return console.error("Error creating event:",t),{error:"Failed to create event"}}}async getEventsCount(){try{let t=localStorage.getItem("custom-auth-token");console.log("token = "+t);let e=await a.get("events/count",{headers:{Authorization:"".concat(t)}});if(!e.data)return{data:null};return{data:e.data}}catch(t){return{data:null}}}async getMyEvent(){try{return console.log(localStorage.getItem("custom-auth-token")),{data:(await a.post("events/getall",null,{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}})).data}}catch(t){return console.error("Error fetching event:",t),{error:"Failed to fetch event"}}}async deleteEvent(t){try{return{data:(await a.post("events/delete",t,{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}})).data}}catch(t){return console.error("Error deleting events:",t),{error:"Failed to delete events"}}}async uploadAvatar(t){let e=new FormData;e.append("file",t),console.log("formData");try{let[t,r]=(await a.post("account/savefile",e,{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}})).data;return{url:r}}catch(t){return{error:"Error uploading avatar"}}}async getCalendar(){try{return{data:(await a.get("calendar/get",{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}})).data}}catch(t){return{error:"Error signing out"}}}async signOut(){try{return await a.get("account/logout",{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}}),document.cookie="custom-auth-token=; path=/; max-age=0;",{}}catch(t){return{error:"Error signing out"}}}async callback(){try{console.log("callback");let t=new URLSearchParams(window.location.search).get("code");return await n.get("/callback",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("custom-auth-token"))},params:{code:t}}),{}}catch(t){return console.error("Error occurred:",t),{error:"Error during the start of monitoring"}}}async hhStatus(){try{return(await n.get("monitoring/status",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("custom-auth-token"))}})).data}catch(t){return console.error("Error occurred:",t),!1}}async hhStart(){try{let t=await n.get("monitoring/start",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("custom-auth-token"))}});if(202===t.status){let e=t.data;e&&(window.location.href=e)}return{error:t.data||"No data from server"}}catch(t){return console.error("Error occurred:",t),{error:"Error during the start of monitoring"}}}async hhStop(){try{return await n.get("monitoring/stop",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("custom-auth-token"))}}),document.cookie="custom-auth-token=; path=/; max-age=0;",{}}catch(t){return{error:"Error signing out"}}}async signUpToken(t){try{let e=await a.post("auth/confirm",{check_token:t},{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}}),{token:r}=e.data,{token_name:o}=e.data;return console.log(o,r),r&&o&&localStorage.setItem(o,r),{}}catch(t){if(o.Z.isAxiosError(t)){var e;return{error:(null===(e=t.response)||void 0===e?void 0:e.data)||"An error occurred"}}return{error:"An unknown error occurred"}}}async subscribe(t){try{console.log("eventId = "+t);let e=await a.post("events/subscribe",{eventId:t},{headers:{Authorization:"".concat(localStorage.getItem("custom-auth-token"))}}),{token:r}=e.data,{token_name:o}=e.data;return console.log(o,r),r&&o&&localStorage.setItem(o,r),{}}catch(t){if(o.Z.isAxiosError(t)){var e;return{error:(null===(e=t.response)||void 0===e?void 0:e.data)||"An error occurred"}}return{error:"An unknown error occurred"}}}}let s=new c},5240:function(t,e,r){"use strict";r.d(e,{H:function(){return o}});let o={home:"/",auth:{signIn:"/auth/sign-in",signUp:"/auth/sign-up",resetPassword:"/auth/reset-password",confirm:"/auth/confirm",hhcallback:"/auth/callback",subscribe:"/auth/subscribe"},dashboard:{overview:"/dashboard",account:"/dashboard/account",customers:"/dashboard/customers",settings:"/dashboard/settings"},errors:{notFound:"/errors/not-found"}}}},function(t){t.O(0,[342,919,472,87,781,971,23,744],function(){return t(t.s=9216)}),_N_E=t.O()}]);